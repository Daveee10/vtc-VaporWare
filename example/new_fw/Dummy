buttonCnt = 0;

buttonPressed() {
   deleteTimer(buttonPressed);
   addTimer(button_handler,0.100);
   buttonCnt++;
}

button_handler() {
   if(buttonCnt < 3) {
       if(getButtonState(fired)) {
          vape();
          buttonCnt = 0;
       }
   } else {
       showMenu();
       buttonCnt = 0;
   }
}